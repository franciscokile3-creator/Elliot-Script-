--// Elliot Aim Assist + Auto ThrowPizza //--

-- UI Creation --
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local RangeLabel = Instance.new("TextLabel")
local RangeDropdown = Instance.new("TextButton")
local ESPButton = Instance.new("TextButton")

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

MainFrame.Size = UDim2.new(0, 260, 0, 180)
MainFrame.Position = UDim2.new(0.35, 0, 0.3, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

Title.Size = UDim2.new(1, 0, 0, 35)
Title.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Title.Text = "Elliot Aim Assist"
Title.TextColor3 = Color3.fromRGB(0, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 20
Title.Parent = MainFrame

RangeLabel.Size = UDim2.new(1, 0, 0, 25)
RangeLabel.Position = UDim2.new(0, 0, 0, 45)
RangeLabel.BackgroundTransparency = 1
RangeLabel.Text = "Detection Range:"
RangeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
RangeLabel.Font = Enum.Font.SourceSans
RangeLabel.TextSize = 18
RangeLabel.Parent = MainFrame

RangeDropdown.Size = UDim2.new(0.8, 0, 0, 30)
RangeDropdown.Position = UDim2.new(0.1, 0, 0, 75)
RangeDropdown.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
RangeDropdown.Text = "Range: 100"
RangeDropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
RangeDropdown.Font = Enum.Font.SourceSansBold
RangeDropdown.TextSize = 18
RangeDropdown.Parent = MainFrame

ESPButton.Size = UDim2.new(0.8, 0, 0, 30)
ESPButton.Position = UDim2.new(0.1, 0, 0, 120)
ESPButton.BackgroundColor3 = Color3.fromRGB(0, 180, 255)
ESPButton.Text = "Load Forsaken ESP"
ESPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ESPButton.Font = Enum.Font.SourceSansBold
ESPButton.TextSize = 18
ESPButton.Parent = MainFrame

--// Variables
local cam = workspace.CurrentCamera
local players = game:GetService("Players")
local localPlayer = players.LocalPlayer
local detectionRange = 100
local rangeOptions = {100, 150, 200}
local rangeIndex = 1
local aiming = false

--// Range Dropdown
RangeDropdown.MouseButton1Click:Connect(function()
	rangeIndex = rangeIndex % #rangeOptions + 1
	detectionRange = rangeOptions[rangeIndex]
	RangeDropdown.Text = "Range: " .. detectionRange
end)

--// ESP Button
ESPButton.MouseButton1Click:Connect(function()
	loadstring(game:HttpGet("https://rawscripts.net/raw/Forsaken-c00lgui-v15-ESP-EDITABLE-STAMINA-41624"))()
end)

--// ThrowPizza RemoteEvent
local function throwPizza()
	local args = {
		"UseActorAbility",
		{
			buffer.fromstring("\"ThrowPizza\"")
		}
	}
	game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Network"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
end

--// Find Nearest Player
local function getNearestPlayer()
	local nearest, nearestDist
	for _, plr in pairs(players:GetPlayers()) do
		if plr ~= localPlayer and plr.Character and plr.Character:FindFirstChild("Head") then
			local dist = (plr.Character.Head.Position - cam.CFrame.Position).Magnitude
			if dist <= detectionRange and (not nearestDist or dist < nearestDist) then
				nearest = plr
				nearestDist = dist
			end
		end
	end
	return nearest
end

--// Main Loop
task.spawn(function()
	while task.wait(0.1) do
		local target = getNearestPlayer()
		if target then
			aiming = true
			cam.CFrame = CFrame.lookAt(cam.CFrame.Position, target.Character.Head.Position)
			throwPizza()
		else
			aiming = false
		end
	end
end)
